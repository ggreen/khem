<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" >
<head>
      <title>KHEM</title>
      <link type="text/css" rel="stylesheet" href="common/css/site.css"/>
      	<meta http-equiv="X-UA-Compatible" content="IE=edge" >
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
       <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/dojo/1.11.2/dojo/dojo.js"></script>
	<script type="text/javascript" src='Scilligence.JSDraw2.Pro.js'></script>
	<script type="text/javascript" src='Scilligence.JSDraw2.Resources.js'></script>
	       
       <script>
       function getAJAX()
   	   {
   	     var http_request = false;
   	
   	      if(window.XMLHttpRequest) //Mozilla, Safari
   	      {

   	      http_request =  new XMLHttpRequest();
   	      if (http_request.overrideMimeType) 
   	      {
   	          http_request.overrideMimeType("text/xml"); 
   	      }
   	   }
   	
   	   else if( window.ActiveXObject)  //IE
   	   {
   	      try 
   	      {
   	    		http_request = new ActiveXObject("Msxml2.XMLHTTP");
   	      }
   	      catch(e)
   	      {
   	         try
   	         {
   	            http_request = new ActiveXObject("Microsoft.XMLHTTP");
   	         }
   	         catch (e) {}
   	      }
   	   }
   	
   	   //unable to create XMLHTTP
   	
   	   if (!http_request) 
   	   {
   	
   	      alert("Giving up ( Cannot create an XMLHTTP instance");
   	
   	      return false;
   	
   	   }
   	
   	
   	   return http_request;   
   	
   	}//-------------------------------------------------------------
       </script>
       <script
            type="text/javascript" src="common/js/MaterialMgmtView.js">
        </script>    
       <script
            type="text/javascript" src="common/js/SolutionsGlobalWeb.js">
        </script>   
          <script
            type="text/javascript" src="common/js/json2.js">
        </script>      
       <script type="text/javascript">
       
       var theAJAX = getAJAX();
       
       var web = new SolutionsGlobalWeb(theAJAX);
       var mmRender = new MaterialMgmtView("http://localhost:8080/","sessionID",theAJAX,web);
       
         
        </script>
        
</head>
<body class="tundra">
	<div class="globalWrapper">
		<div class="headerContainer">
			<div class="headerTop">
				<div class="logo">
					<img
						alt="KHEM"
						src="common/images/logo.png"/>
				</div>
			</div>
			<!-- ****************** JDRAW  **************************   -->
			<div>
			
			<!--  dojotype="dijit.form.Form" -->
			<form action="javascript:void(0);"  name="mmForm">
			<div id="jDrawRenderPanel">
			<table border="0" valign="top" class="input">
			    <tr>
			        <td colspan="2">
			        <!--   code     = "com.symyx.draw.JDrawEditor" 
			         code     = "com.symyx.draw.JDrawRenderer"
			          code     = "com.merck.mrl.chem.ui.JavaDrawRender"
			        
			        -->
			        <div class="structureView">
			            <h1>structureView-TODO</h1>
			            <br/>
			         </div>
			         
			         <div><a href="javascript:mmRender.openEditor()">Edit</a> </a>   
			         		<select name="searchOperation">
			         		    <option>SSS</option>
			         		    <option>MOLNEMAKEY</option>
			         		    <option>FLEXMATCH_EXACT</option>
			         		    <option>FLEXMATCH_SALTS</option>
			         		</select>
			         </div>
			         <br/>
			            <button name="search" onclick="mmRender.searchFor();">Search</button><input id="searchForCriteria" type="radio" name="searchForCriteria" value="CompoundMgmt.findMolecules" checked="true"> Molecules <input id="searchForCriteria" type="radio" name="searchForCriteria" value="CompoundMgmt.findContainers"> Containers <!-- input type="radio" name="searchForCriteria" value="Order"> Orders-->
			        </td>
			      	<td>
			      	<!-- 
			      	 <p>
			     	  <label for="structureKey">Struct Key</label>
			      	  <input name="structureKey" type="text"/>   
			      	</p>
			      	<p>
			      	  <label for="location">Location</label>
			      	 <select name="location" multiple="true" dojotype="dijit.form.ComboBox" autocomplete="true">
			                        <option></option>
			                        <option>RY-34A-1-112</option>
						            <option>RY-34A-1-113</option>
						            <option>RY-34A-1-114</option>
			                        </select>
			      	 </p>
			      	  <br/>
			      	   -->
			    	   	  
			  	</td>     
		 </tr>
    </table>
    </div><!-- End JDraw Render -->
    
    <!--  START Pop Over -->
    <div id="jdrawPopupPanel" style="display:none; z-index:10; position: fixed;left:710px; top:150px;border-style:solid;border-color:#B8B8B8;">
    	              <!--  com.symyx.draw.JDrawRenderer -->
			    <div class='JSDraw' id="div1" style="width: 330px; height: 330px;border:1px solid gray" viewonly popup dataformat='molfile' data='
ChemJSDraw11250914282D

 11 12  0  0  0  0  0  0  0  0  1 V2000
   15.6000   -9.3600    0.0000 N   0  0
   14.2490   -8.5800    0.0000 C   0  0
   14.2490   -7.0200    0.0000 C   0  0
   15.6000   -6.2400    0.0000 C   0  0
   16.9510   -7.0200    0.0000 C   0  0
   16.9510   -8.5800    0.0000 C   0  0
   18.3020   -6.2400    0.0000 O   0  0
   12.8980   -9.3600    0.0000 C   0  0
   11.5470   -8.5800    0.0000 C   0  0
   11.5470   -7.0200    0.0000 C   0  0
   12.8980   -6.2400    0.0000 C   0  0
  1  2  1  0
  2  3  2  0
  3  4  1  0
  4  5  2  0
  5  6  1  0
  6  1  2  0
  5  7  1  0
  8  2  1  0
  8  9  2  0
  9 10  1  0
 10 11  2  0
 11  3  1  0
M  END'></div>
    </div>
    <!--  END Pop Over -->
    <div id="jdrawEditorPanel" style="display:none">
    
    <h1>jdrawEditorPanel-DELETEME</h1>
      <div class='JSDraw' id="test" skin="w8" style="width: 660px; height: 300px;border:1px solid gray" ondatachange='molchange'
    dataformat='molfile' data='
ChemJSDraw11140919362D

  6  6  0  0  0  0  0  0  0  0  1 V2000
    3.5115   -9.3600    0.0000 C   0  0
    2.1605   -8.5800    0.0000 C   0  0
    2.1605   -7.0200    0.0000 C   0  0
    3.5115   -6.2400    0.0000 N   0  0
    4.8625   -7.0200    0.0000 C   0  0
    4.8625   -8.5800    0.0000 C   0  0
  1  2  1  0
  2  3  2  0
  3  4  1  0
  4  5  2  0
  5  6  1  0
  6  1  2  0
M  END'></div>
      
            <div>
            <br/>
            <button onClick="mmRender.transferMolecule();">Transfer</button>
           		 <div>
                        <textarea name="molData" cols="80" rows="15"></textarea><br/>
                        <button onclick="javascript:molData.value = mmRender.getEditorMolString();">View Mol</button>
			            <button onclick="javascript:mmRender.setEditorMolString(molData.value);">Draw Mol</button>
			            <br />
		     	 </div>
            </div>
    </div>
<br>

</form>


<div id="outputPanel">
<!-- table class="resultTable">
	<thead>
		<tr>
			<th>Structure</th>
			<th>Barcode</th>
			<th>Location</th>
			<th>Sub Loc.</th>
			<th>Vendor</th>
			<th>Amount</th>
			<th>Status</th>
		</tr>
	</thead>
	<tbody>
		<tr class="odd">
			<td>L-02323</td>
			<td>BC23923</td>
			<td>RY-34A-1-118</td>
			<td>RA-1</td>
			<td>Fisher</td>
			<td>1 ML</td>
			<td>INUSE</td>
		</tr>
		<tr class="even">
			<td>MDL02323</td>
			<td>BC34923</td>
			<td>RY-34B-1-118</td>
			<td>RA-3</td>
			<td>Fisher</td>
			<td>3 ML</td>
			<td>INUSE</td>			
		</tr>	
	</tbody>
</table-->

</div>

<!-- If you want to test the ability to detect a change to the structure:
<script>JDrawEditor.setOnStructureChangedJS("alert('OnStructureChanged event fired: javascript executed');");</script>
-->

	</div>
		</div>

<script type="text/javascript">
    JSDraw.init();
    
    function molchange(jsdraw) {
        document.getElementById('formula').innerHTML = jsdraw.getFormula(true);
        document.getElementById('mw').innerHTML = jsdraw.getMolWeight();
    }
</script>
		
</body>
</html>